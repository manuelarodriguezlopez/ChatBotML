<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title> Fase 2: Predicci√≥n de Demanda</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <style>
        body {
            background-color: #e9f2f9;
            font-family: 'Segoe UI', sans-serif;
        }

        .navbar {
            background-color: #1f4e79;
        }

        .navbar-brand,
        .nav-link,
        .navbar-text {
            color: white !important;
        }

        .nav-link:hover {
            color: #bcdfff !important;
        }

        .menu-btn {
            background-color: #06214a;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 8px;
            font-weight: 600;
            transition: 0.3s;
        }

        .menu-btn:hover {
            background-color: #094cbd;
        }

        .content {
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            padding: 30px;
            margin-top: 30px;
        }

        h2,
        h4 {
            color: #0d2f62;
            font-weight: 600;
        }

        .section-title {
            margin-top: 50px;
            border-left: 5px solid #0d2f62;
            padding-left: 10px;
        }

        .sub-section h5 {
            color: #0d2f62;
            margin-top: 15px;
        }

        .info-box {
            background-color: #f1f8ff;
            border-left: 5px solid #0d6efd;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
        }
    </style>
</head>

<body>
    <!-- üîπ Navbar superior -->
    <nav class="navbar navbar-expand-lg navbar-dark shadow-sm">
        <div class="container">
            <a class="navbar-brand fw-bold" href="#">SUGAR KEF</a>
            <div class="d-flex align-items-center">
                <a href="{{ url_for('fase1') }}"
                    class="menu-btn me-2 {% if request.path == '/fase1' %}active{% endif %}">Fase 1</a>
                <a href="{{ url_for('fase2') }}"
                    class="menu-btn me-2 {% if request.path == '/fase2' %}active{% endif %}">Fase 2</a>
                <a href="{{ url_for('dashboard') }}" class="btn btn-outline-light me-2"><i class="bi bi-house-door"></i>
                    Volver al men√∫</a>
                <a href="{{ url_for('logout') }}" class="btn btn-light btn-sm">Cerrar sesi√≥n</a>
            </div>
        </div>
    </nav>

    <!--  Contenido principal -->
    <div class="container">
        <div class="content">
            <h2 class="mb-4 text-center">Fase 2: Predicci√≥n de Demanda de K√©fir</h2>
            <p class="text-muted text-center">
                Introduce los valores requeridos para estimar la demanda futura del producto utilizando el modelo de
                Machine Learning.
            </p>

            <!-- Formulario -->
            <form action="/fase2" method="POST" class="card p-4 shadow-sm mt-4">
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="cantidad_producida">Cantidad Producida</label>
                        <input type="number" step="any" id="cantidad_producida" name="cantidad_producida"
                            class="form-control" required>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="precio_unitario">Precio Unitario (USD)</label>
                        <input type="number" step="any" id="precio_unitario" name="precio_unitario" class="form-control"
                            required>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="costo_produccion">Costo de Producci√≥n (USD)</label>
                        <input type="number" step="any" id="costo_produccion" name="costo_produccion"
                            class="form-control" required>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="campa√±a_marketing">¬øHubo Campa√±a de Marketing?</label>
                        <select id="campa√±a_marketing" name="campa√±a_marketing" class="form-control">
                            <option value="1">S√≠</option>
                            <option value="0">No</option>
                        </select>
                    </div>
                </div>

                <button type="submit" class="btn btn-success mt-3">Predecir Demanda</button>
            </form>

            {% if prediccion %}
            <div class="alert alert-info mt-4 text-center">
                <h4>Predicci√≥n estimada de demanda: <strong>{{ prediccion }}</strong> unidades</h4>
            </div>
            {% endif %}


            <div class="section-title mt-5">
                <h3>Ingenier√≠a de Datos</h3>
            </div>

            <p>
                La ingenier√≠a de datos constituye un pilar fundamental en el proceso de <em>Machine Learning</em>.
                Esta fase se centra en preparar adecuadamente los datos para el modelado, maximizando su potencial
                predictivo
                y minimizando riesgos de sesgo o sobreajuste.
            </p>

            <div class="sub-section">
                <h5> ‚Üí Selecci√≥n</h5>
                <p>
                    En esta etapa se identifican y recopilan las fuentes de datos m√°s relevantes y confiables para el
                    modelado.
                    En el contexto del k√©fir, dichas fuentes pueden incluir registros hist√≥ricos de producci√≥n, datos de
                    ventas,
                    encuestas de consumo, informaci√≥n de campa√±as de marketing y variables externas como temperatura,
                    estacionalidad o precios de insumos.
                    La correcta selecci√≥n garantiza que los datos reflejen con precisi√≥n las din√°micas del mercado y el
                    comportamiento real del producto.
                </p>
                <p>
                    Adem√°s, se eval√∫a la calidad, disponibilidad y frecuencia de actualizaci√≥n de cada fuente,
                    asegurando que los datos
                    sean consistentes en el tiempo y representen las distintas condiciones operativas de la empresa.
                </p>

                <h5> ‚Üí Limpieza</h5>
                <p>
                    Esta fase busca eliminar imperfecciones en los datos que podr√≠an distorsionar los resultados del
                    modelo.
                    Incluye la detecci√≥n y correcci√≥n de errores tipogr√°ficos, inconsistencias en unidades de medida,
                    eliminaci√≥n de duplicados
                    y tratamiento de valores faltantes mediante t√©cnicas como imputaci√≥n estad√≠stica, reemplazo por la
                    media o el uso de algoritmos predictivos.
                </p>
                <p>
                    En el caso del k√©fir, esto implica validar que los vol√∫menes de producci√≥n y ventas correspondan a
                    fechas reales,
                    verificar que los precios est√©n dentro de rangos plausibles y garantizar que los registros est√©n
                    completos antes de ser utilizados
                    en el proceso de modelado.
                </p>

                <h5> ‚Üí Transformaci√≥n</h5>
                <p>
                    Una vez limpios, los datos se transforman para optimizar su uso dentro del modelo de aprendizaje
                    autom√°tico.
                    Este proceso incluye la creaci√≥n de nuevas variables o caracter√≠sticas (por ejemplo, promedio de
                    ventas por semana,
                    √≠ndice de promoci√≥n o nivel de fidelidad del cliente), la normalizaci√≥n de escalas num√©ricas para
                    evitar sesgos,
                    y la codificaci√≥n de variables categ√≥ricas (como tipo de cliente o zona geogr√°fica) mediante
                    t√©cnicas como
                    <em>One-Hot Encoding</em> o <em>Label Encoding</em>.
                </p>
                <p>
                    Estas transformaciones permiten que el modelo interprete de manera uniforme los datos y mejore su
                    capacidad de generalizaci√≥n,
                    logrando predicciones m√°s precisas y estables.
                </p>

                <h5> ‚Üí Documentaci√≥n</h5>
                <p>
                    Cada transformaci√≥n aplicada debe registrarse detalladamente para garantizar la trazabilidad del
                    proceso.
                    La documentaci√≥n incluye la descripci√≥n de las fuentes de datos utilizadas, los m√©todos de limpieza
                    aplicados,
                    las transformaciones generadas y las justificaciones de cada decisi√≥n.
                </p>
            </div>


            <div class="info-box mt-4">
                <p>
                    Seg√∫n <strong>ML-Ops.org</strong>, todas las transformaciones y decisiones deben documentarse
                    meticulosamente
                    para garantizar la reproducibilidad del proceso, facilitando futuras revisiones o actualizaciones
                    del modelo.
                </p>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>
